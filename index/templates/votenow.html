{% extends "index_base.html" %}
{% load i18n %}
{% load static%}
{% block title %}Vote Now{% endblock %}
{% block description %}{% endblock %}
{% block keywords %}{% endblock %}


{% block content %}
<div id="mainparticlediv" class="row"
    style="height:180px; background:linear-gradient(rgba(15, 9, 1, 0.97), rgba(4, 3, 0, 0.97)), url({% static 'slider/images/slider4.jpeg' %}); background-repeat: no-repeat; background-size: cover; background-position: center center;">
</div>
<script src="{% static 'js/particles.min.js' %}"></script>
<script>
    particlesJS.load("mainparticlediv", "{% static 'js/particlesjs-config_new.json' %}", function () { });
</script>

<div class="row" id="about_summary">
    <div class="col-12">
        <div class="container" style="padding:20px; ">
            
            {% if awardscheme.votingopen %}
            <div class="row">
                <div class="col-12 form-group">
                <br>
                <h2 style="font-family: juliussansregular; text-align:center;">VOTE NOW</h2>
                <p style="max-width:900px; margin:0 auto; text-align:center;">Humanitarian Awards Global exists to identify,
                    honour and celebrate a cross-section of the nations most influential Non-Profit Organizations from a wide
                    range of industries, who are committed to the growth and community service</p>
                <br>
                </div>
            </div>

            <div class="row">
                <div class="form-group col-12">
                    <label class="col-form-label small" style="text-align: center; max-width: 400px; font-size: 100%; margin:0 auto; display:block;">View By Category: </label>
                    <div class="">
                        <select class="form-control input-sm" id="category" name="category" required
                            onchange="location = this.value;"
                            style=" text-align: center; max-width: 400px; color: #a07b42; border-color: #a8854a; font-size: 100%; margin:0 auto; ">
                            {% if category %}
                            <option value="?category={{category.id|default_if_none:''}}" selected>{{category.name|default_if_none:''}}</option>
                            {% else %}
                            <option value="" disabled selected hidden>All Categories</option>
                            {% endif %}
                            <option value="?category=">All Categories</option>
                            {% for categ in categories %}
                            {% if not categ.name == category %}
                            <option value="?category={{categ.id|default_if_none:''}}">{{categ.name|default_if_none:''}}</option>
                            {% endif %}
                            {% endfor %}
                        </select>
                    </div>
                </div>

                <div class="col-12 form-group">
                    <div class="float-right">
                        <nav class="pagntndiv" aria-label="Page Navigation">
                            <ul class="pagination pagination-sm pagination-justify-center" style="margin:0;">
                                <li class="page-item"><a class="page-link" href="" onclick="this.href='?page=1'"
                                        aria-label="First"> First </a></li>
                                {% if nominees.has_previous %}
                                <li class="page-item"><a class="page-link" href=""
                                        onclick="this.href='?page={{ nominees.previous_page_number }}'" aria-label=""><span
                                            aria-hidden="true">&laquo;</span></a></li>
                                {% endif %}
        
                                {% if nominees.number|add:'-4' > 1 %}
                                <li class="page-item"><a class="page-link"
                                        href="?page={{ nominees.number|add:'-5' }}">&hellip;</a></li>
                                {% endif %}
        
                                {% for i in nominees.paginator.page_range %}
                                {% if nominees.number == i %}
                                <li class="page-item active"><a class="page-link" href=""
                                        onclick="this.href='?page={{i}}'">{{i}}</a></li>
                                {% elif i > nominees.number|add:'-5' and i < nominees.number|add:5 %}
                                <li class="page-item"><a class="page-link" href="" onclick="this.href='?page={{i}}'">{{i}}</a>
                                </li>
                                {% endif %}
                                {% endfor %}
        
                                {% if nominees.paginator.num_pages > nominees.number|add:4 %}
                                <li class="page-item"><a class="page-link" href="?page={{ nominees.number|add:'5' }}">&hellip;</a>
                                </li>
                                {% endif %}
        
                                {% if nominees.has_next %}
                                <li class="page-item"><a class="page-link" href=""
                                        onclick="this.href='?page={{ nominees.next_page_number }}'" aria-label=""><span
                                            aria-hidden="true">&raquo;</span></a></li>
                                {% endif %}
                                <li class="page-item"><a class="page-link" href=""
                                        onclick="this.href='?page={{ nominees.paginator.num_pages }}'" aria-label="Last"> Last
                                    </a></li>
                            </ul>
        
                        </nav>
                    </div>
                </div>

                {% for nominee in nominees %}
                <div class="form-group col-6 col-sm-6 col-md-4 col-lg-3 col-xl-2" style="text-align: center;">
                    <div class="card">
                        <div style="width:100%; height:220px; background:url({% if nominee.nominee_photograph %}{{nominee.nominee_photograph.url}}{% else %}/static/images/user.png{% endif %}) no-repeat center; background-size:cover; background-position:top center; border-radius:4px 4px 0 0; position: relative;">
                            <div style="padding:5px; position:absolute; left:0; right:0; bottom:0; color:#fff; text-shadow: 1px 1px 4px #000; background:linear-gradient(transparent, #1a1919bf,#1a1919);">
                                <p class="small" style="margin:0;"><b>{{nominee.nominee_firstname}} {{nominee.nominee_lastname}}</b></p>
                                <p class="small" style="margin:0;">{{nominee.category.name|truncatechars:'30'}}</p>
                                
                            </div>
                        </div>
                        <a class="btn btn-md btn-block goldbutton" href="{% url 'vote' %}?code={{nominee.nominee_code}}" style="padding:1px 5px; border-radius:0 0 3px 3px;"> Vote </a>
                        
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="row">
                <div class="col-12">
                    <nav class="pagntndiv" aria-label="Page Navigation">
                        <ul class="pagination pagination-sm pagination-justify-center" style="margin:0;">
                            <li class="page-item"><a class="page-link" href="" onclick="this.href='?page=1'"
                                    aria-label="First"> First </a></li>
                            {% if nominees.has_previous %}
                            <li class="page-item"><a class="page-link" href=""
                                    onclick="this.href='?page={{ nominees.previous_page_number }}'" aria-label=""><span
                                        aria-hidden="true">&laquo;</span></a></li>
                            {% endif %}

                            {% if nominees.number|add:'-4' > 1 %}
                            <li class="page-item"><a class="page-link"
                                    href="?page={{ nominees.number|add:'-5' }}">&hellip;</a></li>
                            {% endif %}

                            {% for i in nominees.paginator.page_range %}
                            {% if nominees.number == i %}
                            <li class="page-item active"><a class="page-link" href=""
                                    onclick="this.href='?page={{i}}'">{{i}}</a></li>
                            {% elif i > nominees.number|add:'-5' and i < nominees.number|add:5 %}
                            <li class="page-item"><a class="page-link" href="" onclick="this.href='?page={{i}}'">{{i}}</a>
                            </li>
                            {% endif %}
                            {% endfor %}

                            {% if nominees.paginator.num_pages > nominees.number|add:4 %}
                            <li class="page-item"><a class="page-link" href="?page={{ nominees.number|add:'5' }}">&hellip;</a>
                            </li>
                            {% endif %}

                            {% if nominees.has_next %}
                            <li class="page-item"><a class="page-link" href=""
                                    onclick="this.href='?page={{ nominees.next_page_number }}'" aria-label=""><span
                                        aria-hidden="true">&raquo;</span></a></li>
                            {% endif %}
                            <li class="page-item"><a class="page-link" href=""
                                    onclick="this.href='?page={{ nominees.paginator.num_pages }}'" aria-label="Last"> Last
                                </a></li>
                        </ul>

                    </nav>
                </div>
            </div>
            {% else %}
            <div class="row">
                <div class="col-12 form-group">
                    {% if awardscheme.nominationopen %}
                    <br>                
                    <h2 style="font-family: juliussansregular; text-align:center;">HAG NOMINATIONS STILL OPEN</h2>
                    <p style="max-width:900px; margin:0 auto; text-align:center; display:block;">Nominate yourself or someone now</p>
                    <br>
                    <p style="text-align:center; display:block;"><a class="btn btn-lg blackbutton" href="{% url 'nominations' %}" style="margin:0 auto; "> Nominate </a></p>
                    
                    <br>
                    {% else %}
                    <br>                
                    <h2 style="font-family: juliussansregular; text-align:center;">HAG NOT OPEN FOR NOMINATIONS</h2>
                    <p style="max-width:900px; margin:0 auto; text-align:center;">HAG is currently not open for Nominations</p>
                    <br>
                    <br>
                    <p style="text-align:center; display:block;"><a class="btn btn-md blackbutton" href="{% url 'about' %}" style="margin:0 auto; "> Learn More about HAG </a></p>
                    <br>
                    {% endif %}
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</div>

{% endblock %}