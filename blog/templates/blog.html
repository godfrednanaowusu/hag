{% extends "index_base.html" %}
{% load i18n %}
{% load static%}
{% block title %}Blog{% endblock %}
{% block description %}Blog{% endblock %}
{% block keywords %}{% endblock %}


{% block content %}
<div id="mainparticlediv" class="row" style="height:180px; background:linear-gradient(rgba(15, 9, 1, 0.97), rgba(4, 3, 0, 0.97)), url({% static 'slider/images/slider4.jpeg' %}); background-repeat: no-repeat; background-size: cover; background-position: center center;"></div>
<script src="{% static 'js/particles.min.js' %}"></script>
<script>
    particlesJS.load("mainparticlediv", "{% static 'js/particlesjs-config_new.json' %}", function() { });
</script>

<div class="row" id="">
    <div class="col-12">
        <div class="container" style="padding:20px 0; ">
            <section id="blog" class="" style="">
                <div class="container">
                    <div class="row">
                        {% for blg in blog %}
                        <div class="col-12 col-sm-6 col-md-3 col-xl-3 mb-4">
                            <a href="{% url 'blog_detail' identifier=blg.identifier %}" class="text-decoration-none text-reset">
                                <div class="card">
                                    <img src="{% if blg.artcover %}{{blg.artcover.url}}{% endif %}" alt="article image" class="" style="height:150px; width:100%; object-fit: cover;">
                                    <div class="card-footer">
                                        <p class="m-0">{{blg.title|truncatechars:'50'}}</p>
                                        <p class="small m-0">{{blg.date|date:'dS M Y'}}</p>
                                    </div>
                                </div>
                            </a>
                        </div>
                        {% endfor %}
                    </div>

                    <nav aria-label="Page Navigation">
                        <ul class="pagination pagination-sm justify-content-center" style="margin:0;">
                            <li class="page-item"><a class="page-link" href="?page=1"
                                    aria-label="First"> First </a></li>
                            {% if blog.has_previous %}
                            <li class="page-item"><a class="page-link"
                                    href="?page={{ blog.previous_page_number }}"
                                    aria-label=""><span
                                        aria-hidden="true">&laquo;</span></a></li>
                            {% endif %}

                            {% for i in blog.paginator.page_range %}
                            {% if blog.number == i %}
                            <!-- <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li> -->
                            <li class="page-item active"><a class="page-link"
                                    href="?page={{ i }}">{{ i }}</a>
                            </li>
                            {% elif blog.number <= 5 %}
                            <!-- <li><a href="?page={{ i }}">{{ i }}</a></li> -->
                            <li class="page-item"><a class="page-link"
                                    href="?page={{ i }}">{{ i }}</a>
                            </li>
                            {% endif %}
                            {% endfor %}

                            {% if blog.has_next %}
                            <li class="page-item"><a class="page-link"
                                    href="?page={{ blog.next_page_number }}"
                                    aria-label=""><span
                                        aria-hidden="true">&raquo;</span></a></li>
                            {% endif %}
                            <li class="page-item"><a class="page-link"
                                    href="?page={{ blog.paginator.num_pages }}"
                                    aria-label="Last"> Last </a></li>
                        </ul>
                    </nav>
                </div>
            </section>
        </div>
    </div>
</div>

{% endblock %}